<html>
<head>
    <title>Todo list - ve framework</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>

    <div data-controller="TodoController">
        <div class="header">
            <h2>My To Do List</h2>
            <form data-submit="addTodo(event)" name="todoForm" data-form-data="todoFormData" novalidate>
                <input type="text" name="todo_name" placeholder="Title...">
                <button type="submit" class="addBtn">Add</button>
            </form>
        </div>

        <ul id="todoListActions">
            <li class="sort">
                Sort:
                <a href="#" data-click="sortTodo('ASC')">A-Z</a>
                <a href="#" data-click="sortTodo('DESC')">Z-A</a>
            </li>
            <li class="filters">
                Filters:
                <a href="#" data-click="todoVisibilityFilter('all')">All</a>
                <a href="#" data-click="todoVisibilityFilter('completed')">Completed</a>
                <a href="#" data-click="todoVisibilityFilter('active')">Active</a>
            </li>
        </ul>
        <hr>
        <ul id="todoList">
            <li data-repeat="todo in todos" data-store="todoStore" data-class="{checked: todo.completed}">
                <div data-click="toggleStatus(todo)">{{todo.name}}</div>
                <span data-click="editTodo(todo)" class="close edit">Edit</span>
                <span data-click="removeTodo(todo.id)" class="close">Ã—</span>
            </li>
        </ul>
        <p>{{tasksLeft}} tasks left.</p>
    </div>

    <script>
        var el = document.getElementById('todoList');
        var clickFn = function(e) { console.log(e) };
        
        el.addEventListener('click', clickFn);
        el.children[0].addEventListener('click', clickFn);
        
        setTimeout(function(){
            el.removeEventListener('click', clickFn);
            el.children[0].addEventListener('click', clickFn);
        el.remove();
        el = null;
        }, 2000);
    </script>
</body>
</html>
